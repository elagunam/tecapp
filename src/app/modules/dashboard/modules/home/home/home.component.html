
<div class="container mt-4">
    <div class="row align-items-center h-100">
      <div class="col">
        <mat-card class="col p-0">
          <mat-card-content class="ps-5 pe-5 pb-5 pt-2">
            <br>
            <div class="row">
              <div class="col-md-6">
                <h2 class="text-primary text-center">Bienvenido: <span class="text-muted">{{userName}}</span> </h2>
              </div>
              <div class="col-md-4">
                  <form  #searchForm="ngForm" [formGroup]="form" class="" (ngSubmit)="search()">
                    <div class="input-group mb-3">
                        <input type="text" formControlName="search" class="form-control" placeholder="Buscar No. De cliente o nombre" >
                        <button type="submit" class="btn btn-outline-primary" [disabled] ="searchForm.invalid || petitionInProgress"><i class="fas fa-search"></i></button>
                    </div>
                  </form>
              </div>
              <div class="col-md-2">
                <a [routerLink]="['./customer']" class="btn btn-primary text-white">Registrar cliente</a>

              </div>
            </div>
            <br>
            <div class="row" *ngIf="petitionInProgress">
                <div class="col-md-12">
                    <p class="text-muted text-center">Buscando clientes...</p>
                </div>
            </div>
            <div class="row" *ngIf="error && !petitionInProgress">
                <div class="col-md-12">
                    <p class="p-3 mb-2 bg-danger text-white text-center">{{message}}</p>
                </div>
            </div>
            
            <div class="row" *ngIf="!error && !petitionInProgress && !cutomers">
                <div class="col-md-12">
                    <p class="p-3 mb-2 bg-primary text-white text-center">Realice la búsqueda de un cliente para realizar alguna operación</p>
                </div>
            </div>
            <div class="row" *ngIf="!error && !petitionInProgress && cutomers">
                <div class="col-md-12 mb-3">
                    <h1 class="text-primary text-center">Clientes encontrados:</h1>
                </div>
                <div class="col-md-12 table-responsive">
                    <table class="table table-striped table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Domicilio</th>
                            <th scope="col">Género</th>
                            <th scope="col">Acciones</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let customer of cutomers; let i=index">
                            <th scope="row">{{i+1}}</th>
                            <td>{{customer.full_name}}</td>
                            <td>{{customer.address}}</td>
                            <td>{{customer.gender}}</td>
                            <td>
                                <a class="btn btn-success" [routerLink]="[ './accounts/'+customer.id]">Ver cuentas</a>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                </div>
            </div>

          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
  